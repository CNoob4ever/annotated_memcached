<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>memcached: items.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">memcached
   &#160;<span id="projectnumber">0.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">items.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="items_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62b7c83e5bdd71713688f70199319902"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a62b7c83e5bdd71713688f70199319902">get_cas_id</a> (void)</td></tr>
<tr class="separator:a62b7c83e5bdd71713688f70199319902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed8fa9287313550b7b259245b3578af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a2ed8fa9287313550b7b259245b3578af">do_item_alloc</a> (char *key, const size_t nkey, const int flags, const <a class="el" href="memcached_8h.html#a602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a> exptime, const int nbytes, const uint32_t cur_hv)</td></tr>
<tr class="separator:a2ed8fa9287313550b7b259245b3578af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5305dd637fb32e9a99b97326de1429eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a5305dd637fb32e9a99b97326de1429eb">item_free</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it)</td></tr>
<tr class="separator:a5305dd637fb32e9a99b97326de1429eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f56df307b2406f372e918860b07adad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a9f56df307b2406f372e918860b07adad">item_size_ok</a> (const size_t nkey, const int flags, const int nbytes)</td></tr>
<tr class="separator:a9f56df307b2406f372e918860b07adad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ff144277242d6486bfe0de00707228"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a44ff144277242d6486bfe0de00707228">do_item_link</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it, const uint32_t hv)</td></tr>
<tr class="separator:a44ff144277242d6486bfe0de00707228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d44e4bfde1995f532df19b8163e1d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a15d44e4bfde1995f532df19b8163e1d1">do_item_unlink</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it, const uint32_t hv)</td></tr>
<tr class="separator:a15d44e4bfde1995f532df19b8163e1d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b10245f7ffb4e7fba5f5cc1b88d024"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a32b10245f7ffb4e7fba5f5cc1b88d024">do_item_unlink_nolock</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it, const uint32_t hv)</td></tr>
<tr class="separator:a32b10245f7ffb4e7fba5f5cc1b88d024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d7ffedc021b4a576d5712b7cea34a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a81d7ffedc021b4a576d5712b7cea34a7">do_item_remove</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it)</td></tr>
<tr class="separator:a81d7ffedc021b4a576d5712b7cea34a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc546770369a633debd89e0b9b19d3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a4fc546770369a633debd89e0b9b19d3d">do_item_update</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it)</td></tr>
<tr class="separator:a4fc546770369a633debd89e0b9b19d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031362bd398a7ed1346daa52f434da02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a031362bd398a7ed1346daa52f434da02">do_item_replace</a> (<a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *it, <a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *new_it, const uint32_t hv)</td></tr>
<tr class="separator:a031362bd398a7ed1346daa52f434da02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8926aa0955ee34cec0fbe7214e74156"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#af8926aa0955ee34cec0fbe7214e74156">do_item_cachedump</a> (const unsigned int <a class="el" href="slabs_8h.html#a89e035684df4bb1ef8b0852cb2c20f00">slabs_clsid</a>, const unsigned int limit, unsigned int *bytes)</td></tr>
<tr class="separator:af8926aa0955ee34cec0fbe7214e74156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37d9c76fff27f10050dc069eef7d50c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#ac37d9c76fff27f10050dc069eef7d50c">do_item_stats</a> (<a class="el" href="memcached_8h.html#ab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>
<tr class="separator:ac37d9c76fff27f10050dc069eef7d50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3ea620408ed57f583028c376a8a531"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a8f3ea620408ed57f583028c376a8a531">do_item_stats_totals</a> (<a class="el" href="memcached_8h.html#ab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>
<tr class="separator:a8f3ea620408ed57f583028c376a8a531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d27e539e6256fe75653def1f4594e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a83d27e539e6256fe75653def1f4594e3">do_item_stats_sizes</a> (<a class="el" href="memcached_8h.html#ab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>
<tr class="separator:a83d27e539e6256fe75653def1f4594e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515ef8e7f0cef67772989fd076f7dcb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a515ef8e7f0cef67772989fd076f7dcb4">do_item_flush_expired</a> (void)</td></tr>
<tr class="separator:a515ef8e7f0cef67772989fd076f7dcb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0694946fd0ffc50fd0032d9c6f39008c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a0694946fd0ffc50fd0032d9c6f39008c">do_item_get</a> (const char *key, const size_t nkey, const uint32_t hv)</td></tr>
<tr class="separator:a0694946fd0ffc50fd0032d9c6f39008c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2e5ced092c40646834541b98e1e4bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a2a2e5ced092c40646834541b98e1e4bc">do_item_touch</a> (const char *key, const size_t nkey, uint32_t exptime, const uint32_t hv)</td></tr>
<tr class="separator:a2a2e5ced092c40646834541b98e1e4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae091979860dd8a77b949c05d64cd4d4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#ae091979860dd8a77b949c05d64cd4d4b">item_stats_reset</a> (void)</td></tr>
<tr class="separator:ae091979860dd8a77b949c05d64cd4d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98862dfd7d7eb957d1b67174111bb0bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a98862dfd7d7eb957d1b67174111bb0bd">item_stats_evictions</a> (uint64_t *evicted)</td></tr>
<tr class="separator:a98862dfd7d7eb957d1b67174111bb0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9127df2a4e57929543f3b955e8fa6014"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a></td></tr>
<tr class="separator:a9127df2a4e57929543f3b955e8fa6014"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a62b7c83e5bdd71713688f70199319902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t get_cas_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="memcached_8h.html#a7737d09843882c635bc3483810acf530">do_add_delta()</a>, and <a class="el" href="items_8h.html#a44ff144277242d6486bfe0de00707228">do_item_link()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ed8fa9287313550b7b259245b3578af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a>* do_item_alloc </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="memcached_8h.html#a602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a>&#160;</td>
          <td class="paramname"><em>exptime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>cur_hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a>, <a class="el" href="memcached_8c.html#a21b2a3d4ff751fe99cdca2d14babc559">current_time</a>, <a class="el" href="items_8c.html#a163fb9f8774b1cc82192036d16673f7b">DEBUG_REFCNT</a>, <a class="el" href="items_8c.html#a32b10245f7ffb4e7fba5f5cc1b88d024">do_item_unlink_nolock()</a>, <a class="el" href="structsettings.html#ad168c4ce8bca42ce8f7b0ba8b66fba1a">settings::evict_to_free</a>, <a class="el" href="structitemstats__t.html#a625970f03f343a7f82561cce7462a908">itemstats_t::evicted</a>, <a class="el" href="structitemstats__t.html#a6a400df5359d9bfd7fa3fc1de913acca">itemstats_t::evicted_nonzero</a>, <a class="el" href="structitemstats__t.html#a323f62c71f268d65fa6a56ea894d6294">itemstats_t::evicted_time</a>, <a class="el" href="structitemstats__t.html#aa3776a58c1c7899274a7e0a4f47825d5">itemstats_t::evicted_unfetched</a>, <a class="el" href="structitemstats__t.html#a84822377582a66c26a068e366c2216bf">itemstats_t::expired_unfetched</a>, <a class="el" href="struct__stritem.html#afd87174e4e2f16bf48a950ff28ba65d4">_stritem::exptime</a>, <a class="el" href="struct__stritem.html#acc3bc0ca62146131ad8ae8518545e11b">_stritem::h_next</a>, <a class="el" href="hash_8h.html#a1c12edaae63f2e86a5b276a18475f863">hash()</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a92c9e4680eee65905b0518321805430f">ITEM_CAS</a>, <a class="el" href="memcached_8h.html#a91ec0d5dfe2c5051b6af0beede02a628">ITEM_FETCHED</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a5c9d5467cfb934e32d0794afc596fded">ITEM_ntotal</a>, <a class="el" href="memcached_8h.html#acc9266e9b04daa12e359eb6d6f052fc3">ITEM_suffix</a>, <a class="el" href="memcached_8h.html#a35e2518c5fdcad28ba75d390c6d5a5bc">item_trylock()</a>, <a class="el" href="memcached_8h.html#a6d8c55a9e8c73d1e0e5cb0caf4523524">item_trylock_unlock()</a>, <a class="el" href="memcached_8h.html#a30d31de183a29d8ca7191f264faa911d">mutex_unlock</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#ad7f5d4ca7eae6391b02a8e0d95c99b87">_stritem::next</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="struct__stritem.html#ad104597f204745473144018ef15c1459">_stritem::nsuffix</a>, <a class="el" href="structsettings.html#adf482d13739658b54ac96c6eadba8bc6">settings::oldest_live</a>, <a class="el" href="structitemstats__t.html#ae1be5b5a61d08af1d0353ac2a64240b2">itemstats_t::outofmemory</a>, <a class="el" href="struct__stritem.html#afcc1decef9e8c41fb64f4995462a08fa">_stritem::prev</a>, <a class="el" href="structitemstats__t.html#a52bc312a205b9f8f94b6a5eb83511491">itemstats_t::reclaimed</a>, <a class="el" href="struct__stritem.html#af4b10743e972c424f170f3bbc277ded5">_stritem::refcount</a>, <a class="el" href="memcached_8h.html#af46109f91f97a775b2fcccddc702abcc">refcount_decr()</a>, <a class="el" href="memcached_8h.html#a15a3ef12380b53f49e320374d9bc7e2d">refcount_incr()</a>, <a class="el" href="structsettings.html#ae33d0579bf5c5d45f42f106babfef05b">settings::slab_automove</a>, <a class="el" href="slabs_8c.html#a419cbcecaf8d97b2cac7945e9e6bfa02">slabs_adjust_mem_requested()</a>, <a class="el" href="slabs_8c.html#af71fcc67d3024b6d57945de6215fa421">slabs_alloc()</a>, <a class="el" href="slabs_8c.html#a89e035684df4bb1ef8b0852cb2c20f00">slabs_clsid()</a>, <a class="el" href="struct__stritem.html#a2b9111cab21baa2ee90bd8866e7be988">_stritem::slabs_clsid</a>, <a class="el" href="slabs_8c.html#a0d97738a381c8ade478fd416d454a2dc">slabs_reassign()</a>, <a class="el" href="memcached_8h.html#a421b08fd9fc3d24db6d39014c02f66bb">TAIL_REPAIR_TIME</a>, <a class="el" href="structitemstats__t.html#acf8e7e3fc929b34aa6d3a41f9645dbef">itemstats_t::tailrepairs</a>, and <a class="el" href="structsettings.html#adf2782217e9e89322915fb32fee95880">settings::use_cas</a>.</p>

<p>Referenced by <a class="el" href="memcached_8h.html#a7737d09843882c635bc3483810acf530">do_add_delta()</a>, <a class="el" href="memcached_8h.html#ad775404692ca0969a564408f3008e7ec">do_store_item()</a>, and <a class="el" href="thread_8c.html#ad69cc14d059b72c07e1f0b550b1922c6">item_alloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a5305dd637fb32e9a99b97326de1429eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8c.html#a163fb9f8774b1cc82192036d16673f7b">DEBUG_REFCNT</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a0fdfa9fdfdd2d9cd25d7bd7ad6033e03">ITEM_LINKED</a>, <a class="el" href="memcached_8h.html#a5c9d5467cfb934e32d0794afc596fded">ITEM_ntotal</a>, <a class="el" href="struct__stritem.html#af4b10743e972c424f170f3bbc277ded5">_stritem::refcount</a>, <a class="el" href="struct__stritem.html#a2b9111cab21baa2ee90bd8866e7be988">_stritem::slabs_clsid</a>, and <a class="el" href="slabs_8c.html#a870e49205e3adc320d078b03d8ea3b23">slabs_free()</a>.</p>

<p>Referenced by <a class="el" href="items_8h.html#a81d7ffedc021b4a576d5712b7cea34a7">do_item_remove()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f56df307b2406f372e918860b07adad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_size_ok </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if an item will fit in the cache (its size does not exceed the maximum for a cache entry.) </p>

<p>References <a class="el" href="slabs_8c.html#a89e035684df4bb1ef8b0852cb2c20f00">slabs_clsid()</a>, and <a class="el" href="structsettings.html#adf2782217e9e89322915fb32fee95880">settings::use_cas</a>.</p>

</div>
</div>
<a class="anchor" id="a44ff144277242d6486bfe0de00707228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_item_link </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="assoc_8c.html#afe9df6b7ff077eb1e46acc1a86aefa5a">assoc_insert()</a>, <a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a>, <a class="el" href="structstats.html#a16d174f23f4b8e48c3dc2557f2db7750">stats::curr_bytes</a>, <a class="el" href="structstats.html#a7e27973d723b2bb83265f1324b6265d5">stats::curr_items</a>, <a class="el" href="memcached_8c.html#a21b2a3d4ff751fe99cdca2d14babc559">current_time</a>, <a class="el" href="items_8c.html#a62b7c83e5bdd71713688f70199319902">get_cas_id()</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0fdfa9fdfdd2d9cd25d7bd7ad6033e03">ITEM_LINKED</a>, <a class="el" href="memcached_8h.html#a5c9d5467cfb934e32d0794afc596fded">ITEM_ntotal</a>, <a class="el" href="memcached_8h.html#a906a01f2020378ebc543f3fac3a8de5c">ITEM_set_cas</a>, <a class="el" href="memcached_8h.html#a0eac12291582819219bf0f6ce9124364">ITEM_SLABBED</a>, <a class="el" href="trace_8h.html#ad35f0ffd4209ce78868ebd51d1a6caee">MEMCACHED_ITEM_LINK</a>, <a class="el" href="memcached_8h.html#a30d31de183a29d8ca7191f264faa911d">mutex_unlock</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="struct__stritem.html#af4b10743e972c424f170f3bbc277ded5">_stritem::refcount</a>, <a class="el" href="memcached_8h.html#a15a3ef12380b53f49e320374d9bc7e2d">refcount_incr()</a>, <a class="el" href="memcached_8h.html#a841571aaa5b597a35565f8e12d164a59">STATS_LOCK()</a>, <a class="el" href="memcached_8h.html#a255149a6925c7daf8dbee2d867a36056">STATS_UNLOCK()</a>, <a class="el" href="struct__stritem.html#a7953b640eea943ce42644c00136cd462">_stritem::time</a>, <a class="el" href="structstats.html#af4feaf763564d06ef80569941f31b641">stats::total_items</a>, and <a class="el" href="structsettings.html#adf2782217e9e89322915fb32fee95880">settings::use_cas</a>.</p>

<p>Referenced by <a class="el" href="items_8h.html#a031362bd398a7ed1346daa52f434da02">do_item_replace()</a>, <a class="el" href="memcached_8h.html#ad775404692ca0969a564408f3008e7ec">do_store_item()</a>, and <a class="el" href="thread_8c.html#a7fc0055d9dba8a3a14d2189e95acf844">item_link()</a>.</p>

</div>
</div>
<a class="anchor" id="a15d44e4bfde1995f532df19b8163e1d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_unlink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>may fail if transgresses limits </p>

<p>References <a class="el" href="assoc_8c.html#ab91bd433f29135189118fac85d6bed08">assoc_delete()</a>, <a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a>, <a class="el" href="structstats.html#a16d174f23f4b8e48c3dc2557f2db7750">stats::curr_bytes</a>, <a class="el" href="structstats.html#a7e27973d723b2bb83265f1324b6265d5">stats::curr_items</a>, <a class="el" href="items_8c.html#a81d7ffedc021b4a576d5712b7cea34a7">do_item_remove()</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0fdfa9fdfdd2d9cd25d7bd7ad6033e03">ITEM_LINKED</a>, <a class="el" href="memcached_8h.html#a5c9d5467cfb934e32d0794afc596fded">ITEM_ntotal</a>, <a class="el" href="trace_8h.html#adc22bb2bfb94b6424807a5bfe42846e6">MEMCACHED_ITEM_UNLINK</a>, <a class="el" href="memcached_8h.html#a30d31de183a29d8ca7191f264faa911d">mutex_unlock</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="memcached_8h.html#a841571aaa5b597a35565f8e12d164a59">STATS_LOCK()</a>, and <a class="el" href="memcached_8h.html#a255149a6925c7daf8dbee2d867a36056">STATS_UNLOCK()</a>.</p>

<p>Referenced by <a class="el" href="items_8h.html#a0694946fd0ffc50fd0032d9c6f39008c">do_item_get()</a>, <a class="el" href="items_8h.html#a031362bd398a7ed1346daa52f434da02">do_item_replace()</a>, and <a class="el" href="thread_8c.html#a256717f932dae6220d67fa02af2266bc">item_unlink()</a>.</p>

</div>
</div>
<a class="anchor" id="a32b10245f7ffb4e7fba5f5cc1b88d024"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_unlink_nolock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="assoc_8c.html#ab91bd433f29135189118fac85d6bed08">assoc_delete()</a>, <a class="el" href="structstats.html#a16d174f23f4b8e48c3dc2557f2db7750">stats::curr_bytes</a>, <a class="el" href="structstats.html#a7e27973d723b2bb83265f1324b6265d5">stats::curr_items</a>, <a class="el" href="items_8c.html#a81d7ffedc021b4a576d5712b7cea34a7">do_item_remove()</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0fdfa9fdfdd2d9cd25d7bd7ad6033e03">ITEM_LINKED</a>, <a class="el" href="memcached_8h.html#a5c9d5467cfb934e32d0794afc596fded">ITEM_ntotal</a>, <a class="el" href="trace_8h.html#adc22bb2bfb94b6424807a5bfe42846e6">MEMCACHED_ITEM_UNLINK</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="memcached_8h.html#a841571aaa5b597a35565f8e12d164a59">STATS_LOCK()</a>, and <a class="el" href="memcached_8h.html#a255149a6925c7daf8dbee2d867a36056">STATS_UNLOCK()</a>.</p>

<p>Referenced by <a class="el" href="items_8h.html#a2ed8fa9287313550b7b259245b3578af">do_item_alloc()</a>, <a class="el" href="items_8h.html#a515ef8e7f0cef67772989fd076f7dcb4">do_item_flush_expired()</a>, and <a class="el" href="items_8h.html#a0694946fd0ffc50fd0032d9c6f39008c">do_item_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a81d7ffedc021b4a576d5712b7cea34a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="items_8c.html#a5305dd637fb32e9a99b97326de1429eb">item_free()</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0eac12291582819219bf0f6ce9124364">ITEM_SLABBED</a>, <a class="el" href="trace_8h.html#a470944a187b890c55622e0cfdf2399de">MEMCACHED_ITEM_REMOVE</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="struct__stritem.html#af4b10743e972c424f170f3bbc277ded5">_stritem::refcount</a>, and <a class="el" href="memcached_8h.html#af46109f91f97a775b2fcccddc702abcc">refcount_decr()</a>.</p>

<p>Referenced by <a class="el" href="memcached_8h.html#a7737d09843882c635bc3483810acf530">do_add_delta()</a>, <a class="el" href="items_8h.html#a0694946fd0ffc50fd0032d9c6f39008c">do_item_get()</a>, <a class="el" href="items_8h.html#a15d44e4bfde1995f532df19b8163e1d1">do_item_unlink()</a>, <a class="el" href="items_8h.html#a32b10245f7ffb4e7fba5f5cc1b88d024">do_item_unlink_nolock()</a>, <a class="el" href="memcached_8h.html#ad775404692ca0969a564408f3008e7ec">do_store_item()</a>, and <a class="el" href="thread_8c.html#a5674d2ce2742470b8012fa4184f1fc3b">item_remove()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fc546770369a633debd89e0b9b19d3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a>, <a class="el" href="memcached_8c.html#a21b2a3d4ff751fe99cdca2d14babc559">current_time</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0fdfa9fdfdd2d9cd25d7bd7ad6033e03">ITEM_LINKED</a>, <a class="el" href="memcached_8h.html#a0eac12291582819219bf0f6ce9124364">ITEM_SLABBED</a>, <a class="el" href="items_8c.html#aa56cc44fe5a340da15284ce19e363340">ITEM_UPDATE_INTERVAL</a>, <a class="el" href="trace_8h.html#a2dd8bfb8b10043cff9bf8b8741c7aa82">MEMCACHED_ITEM_UPDATE</a>, <a class="el" href="memcached_8h.html#a30d31de183a29d8ca7191f264faa911d">mutex_unlock</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, and <a class="el" href="struct__stritem.html#a7953b640eea943ce42644c00136cd462">_stritem::time</a>.</p>

<p>Referenced by <a class="el" href="memcached_8h.html#a7737d09843882c635bc3483810acf530">do_add_delta()</a>, <a class="el" href="memcached_8h.html#ad775404692ca0969a564408f3008e7ec">do_store_item()</a>, and <a class="el" href="thread_8c.html#ac1d7ea5f69d88dd9b67b6f96520cad8d">item_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a031362bd398a7ed1346daa52f434da02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_item_replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a> *&#160;</td>
          <td class="paramname"><em>new_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>update LRU time to current and reposition </p>

<p>References <a class="el" href="items_8c.html#a44ff144277242d6486bfe0de00707228">do_item_link()</a>, <a class="el" href="items_8c.html#a15d44e4bfde1995f532df19b8163e1d1">do_item_unlink()</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0eac12291582819219bf0f6ce9124364">ITEM_SLABBED</a>, <a class="el" href="trace_8h.html#a914304d0ec5c915ef10f74468b379d06">MEMCACHED_ITEM_REPLACE</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, and <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a825c9c80e123b8a5ac0a281da414650b">item_replace()</a>.</p>

</div>
</div>
<a class="anchor" id="af8926aa0955ee34cec0fbe7214e74156"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* do_item_cachedump </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>slabs_clsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="struct__stritem.html#afd87174e4e2f16bf48a950ff28ba65d4">_stritem::exptime</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#aa5fda8abf3b5d8881d799a8b84091c6c">KEY_MAX_LENGTH</a>, <a class="el" href="struct__stritem.html#ae718d73982b5d22c28887575e9e4dcd4">_stritem::nbytes</a>, <a class="el" href="struct__stritem.html#ad7f5d4ca7eae6391b02a8e0d95c99b87">_stritem::next</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="memcached_8c.html#a584cbee39bbab65f2c8d87932cf92140">process_started</a>, and <a class="el" href="slabs_8c.html#a89e035684df4bb1ef8b0852cb2c20f00">slabs_clsid()</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a8c9611028843ca37b4d20ec99fd8af23">item_cachedump()</a>.</p>

</div>
</div>
<a class="anchor" id="ac37d9c76fff27f10050dc069eef7d50c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#ab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&#160;</td>
          <td class="paramname"><em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="memcached_8h.html#a30ab71365faf0a05119b4705e26d81a8">APPEND_NUM_FMT_STAT</a>, <a class="el" href="memcached_8c.html#a21b2a3d4ff751fe99cdca2d14babc559">current_time</a>, <a class="el" href="items_8c.html#a3f574e7e3a8fae27712e007ea10a904a">LARGEST_ID</a>, <a class="el" href="memcached_8h.html#a5e26c928bd042e89eb868edad98c6823">STAT_KEY_LEN</a>, and <a class="el" href="memcached_8h.html#af6b9c63c8a22b3d69ce019c26269847c">STAT_VAL_LEN</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a2b022c04b5ceac327d82762206f51ca8">item_stats()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f3ea620408ed57f583028c376a8a531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_stats_totals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#ab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&#160;</td>
          <td class="paramname"><em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="memcached_8h.html#a76c2c7de1009374de65513d72f6e3e56">APPEND_STAT</a>, <a class="el" href="structitemstats__t.html#a625970f03f343a7f82561cce7462a908">itemstats_t::evicted</a>, <a class="el" href="structitemstats__t.html#aa3776a58c1c7899274a7e0a4f47825d5">itemstats_t::evicted_unfetched</a>, <a class="el" href="structitemstats__t.html#a84822377582a66c26a068e366c2216bf">itemstats_t::expired_unfetched</a>, <a class="el" href="items_8c.html#a3f574e7e3a8fae27712e007ea10a904a">LARGEST_ID</a>, and <a class="el" href="structitemstats__t.html#a52bc312a205b9f8f94b6a5eb83511491">itemstats_t::reclaimed</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a06330fa0d2f683b68459dd7b590a242b">item_stats_totals()</a>.</p>

</div>
</div>
<a class="anchor" id="a83d27e539e6256fe75653def1f4594e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_stats_sizes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#ab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&#160;</td>
          <td class="paramname"><em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>dumps out a list of objects of each size, with granularity of 32 bytes </p>

<p>References <a class="el" href="memcached_8h.html#a76c2c7de1009374de65513d72f6e3e56">APPEND_STAT</a>, <a class="el" href="memcached_8h.html#a5c9d5467cfb934e32d0794afc596fded">ITEM_ntotal</a>, <a class="el" href="items_8c.html#a3f574e7e3a8fae27712e007ea10a904a">LARGEST_ID</a>, and <a class="el" href="struct__stritem.html#ad7f5d4ca7eae6391b02a8e0d95c99b87">_stritem::next</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a76a67af22fe6ce802c07e857f06cbdc8">item_stats_sizes()</a>.</p>

</div>
</div>
<a class="anchor" id="a515ef8e7f0cef67772989fd076f7dcb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_item_flush_expired </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8c.html#a32b10245f7ffb4e7fba5f5cc1b88d024">do_item_unlink_nolock()</a>, <a class="el" href="hash_8h.html#a1c12edaae63f2e86a5b276a18475f863">hash()</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="memcached_8h.html#a0eac12291582819219bf0f6ce9124364">ITEM_SLABBED</a>, <a class="el" href="items_8c.html#a3f574e7e3a8fae27712e007ea10a904a">LARGEST_ID</a>, <a class="el" href="struct__stritem.html#ad7f5d4ca7eae6391b02a8e0d95c99b87">_stritem::next</a>, <a class="el" href="struct__stritem.html#a5e19a37b7235464196b4155a46758ff4">_stritem::nkey</a>, <a class="el" href="structsettings.html#adf482d13739658b54ac96c6eadba8bc6">settings::oldest_live</a>, and <a class="el" href="struct__stritem.html#a7953b640eea943ce42644c00136cd462">_stritem::time</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a84097b43e7999f753c11603eff36dadc">item_flush_expired()</a>.</p>

</div>
</div>
<a class="anchor" id="a0694946fd0ffc50fd0032d9c6f39008c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a>* do_item_get </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>wrapper around assoc_find which does the lazy expiration logic </p>

<p>References <a class="el" href="assoc_8c.html#adbb42b0654883b38186ccebe51111077">assoc_find()</a>, <a class="el" href="memcached_8c.html#a21b2a3d4ff751fe99cdca2d14babc559">current_time</a>, <a class="el" href="items_8c.html#a163fb9f8774b1cc82192036d16673f7b">DEBUG_REFCNT</a>, <a class="el" href="items_8c.html#a81d7ffedc021b4a576d5712b7cea34a7">do_item_remove()</a>, <a class="el" href="items_8c.html#a15d44e4bfde1995f532df19b8163e1d1">do_item_unlink()</a>, <a class="el" href="items_8c.html#a32b10245f7ffb4e7fba5f5cc1b88d024">do_item_unlink_nolock()</a>, <a class="el" href="struct__stritem.html#afd87174e4e2f16bf48a950ff28ba65d4">_stritem::exptime</a>, <a class="el" href="struct__stritem.html#a35e3398ad4aaed940e920c99157eca10">_stritem::it_flags</a>, <a class="el" href="memcached_8h.html#a91ec0d5dfe2c5051b6af0beede02a628">ITEM_FETCHED</a>, <a class="el" href="memcached_8h.html#a6f0bbc1b60dc6d44e4f33b7072c5c556">ITEM_key</a>, <a class="el" href="structsettings.html#adf482d13739658b54ac96c6eadba8bc6">settings::oldest_live</a>, <a class="el" href="struct__stritem.html#af4b10743e972c424f170f3bbc277ded5">_stritem::refcount</a>, <a class="el" href="memcached_8h.html#a15a3ef12380b53f49e320374d9bc7e2d">refcount_incr()</a>, <a class="el" href="structslab__rebalance.html#a2ad94e0a55d6c834dd9ca438a59ae99e">slab_rebalance::slab_end</a>, <a class="el" href="memcached_8c.html#a656dffd2362c3d33d9e1710e02b11e0a">slab_rebal</a>, <a class="el" href="memcached_8c.html#af5927ef123e1076d1e3fafb13655fdf4">slab_rebalance_signal</a>, <a class="el" href="structslab__rebalance.html#a00a4e0cd02ef9655377d3903e69556fd">slab_rebalance::slab_start</a>, <a class="el" href="struct__stritem.html#a7953b640eea943ce42644c00136cd462">_stritem::time</a>, and <a class="el" href="structsettings.html#a8cfab16abb0cfc28ce1244c48bacdb6e">settings::verbose</a>.</p>

<p>Referenced by <a class="el" href="memcached_8h.html#a7737d09843882c635bc3483810acf530">do_add_delta()</a>, <a class="el" href="items_8h.html#a2a2e5ced092c40646834541b98e1e4bc">do_item_touch()</a>, <a class="el" href="memcached_8h.html#ad775404692ca0969a564408f3008e7ec">do_store_item()</a>, and <a class="el" href="thread_8c.html#a1ff584f7053e4a5c8f2cffc7186a12aa">item_get()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a2e5ced092c40646834541b98e1e4bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memcached_8h.html#a9063e222b7bfc97808e1ac9ad9053b6e">item</a>* do_item_touch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>exptime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>hv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8c.html#a0694946fd0ffc50fd0032d9c6f39008c">do_item_get()</a>, and <a class="el" href="struct__stritem.html#afd87174e4e2f16bf48a950ff28ba65d4">_stritem::exptime</a>.</p>

<p>Referenced by <a class="el" href="thread_8c.html#a5426b08ce54d8a24b710dac94251adfe">item_touch()</a>.</p>

</div>
</div>
<a class="anchor" id="ae091979860dd8a77b949c05d64cd4d4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_stats_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a>, and <a class="el" href="memcached_8h.html#a30d31de183a29d8ca7191f264faa911d">mutex_unlock</a>.</p>

</div>
</div>
<a class="anchor" id="a98862dfd7d7eb957d1b67174111bb0bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_stats_evictions </td>
          <td>(</td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>evicted</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="items_8h.html#a9127df2a4e57929543f3b955e8fa6014">cache_lock</a>, <a class="el" href="structitemstats__t.html#a625970f03f343a7f82561cce7462a908">itemstats_t::evicted</a>, <a class="el" href="items_8c.html#a3f574e7e3a8fae27712e007ea10a904a">LARGEST_ID</a>, and <a class="el" href="memcached_8h.html#a30d31de183a29d8ca7191f264faa911d">mutex_unlock</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a9127df2a4e57929543f3b955e8fa6014"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t cache_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="memcached_8h.html#a7737d09843882c635bc3483810acf530">do_add_delta()</a>, <a class="el" href="items_8h.html#a2ed8fa9287313550b7b259245b3578af">do_item_alloc()</a>, <a class="el" href="items_8h.html#a44ff144277242d6486bfe0de00707228">do_item_link()</a>, <a class="el" href="items_8h.html#a15d44e4bfde1995f532df19b8163e1d1">do_item_unlink()</a>, <a class="el" href="items_8h.html#a4fc546770369a633debd89e0b9b19d3d">do_item_update()</a>, <a class="el" href="thread_8c.html#a8c9611028843ca37b4d20ec99fd8af23">item_cachedump()</a>, <a class="el" href="thread_8c.html#a84097b43e7999f753c11603eff36dadc">item_flush_expired()</a>, <a class="el" href="thread_8c.html#a2b022c04b5ceac327d82762206f51ca8">item_stats()</a>, <a class="el" href="items_8h.html#a98862dfd7d7eb957d1b67174111bb0bd">item_stats_evictions()</a>, <a class="el" href="items_8h.html#ae091979860dd8a77b949c05d64cd4d4b">item_stats_reset()</a>, <a class="el" href="thread_8c.html#a76a67af22fe6ce802c07e857f06cbdc8">item_stats_sizes()</a>, <a class="el" href="thread_8c.html#a06330fa0d2f683b68459dd7b590a242b">item_stats_totals()</a>, <a class="el" href="assoc_8h.html#a133219e097a9c7b6d12cf76b7e69da97">stop_assoc_maintenance_thread()</a>, <a class="el" href="slabs_8h.html#a58906c13e018eb92e186923c8b388fae">stop_slab_maintenance_thread()</a>, and <a class="el" href="thread_8c.html#a79051074704249cac4424f10d4606fe3">thread_init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 3 2013 16:10:28 for memcached by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
